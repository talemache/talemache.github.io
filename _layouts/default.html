<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>{% if page.title %}{{ page.title | escape }} | {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>{% if page.title %}{{ page.title | escape }} | {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  
  <!-- CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  
  <!-- SEO -->
  {% seo %}
  
  <!-- Feed -->
  {% feed_meta %}
</head>

<body>
  <header class="site-header">
    <div class="wrapper">
      <a class="site-title" href="{{ '/' | relative_url }}">{{ site.title }}</a>
      
      <nav class="site-nav">
        <a class="page-link" href="{{ '/about/' | relative_url }}">About</a>
      </nav>
    </div>
  </header>

  <main class="page-content">
    {{ content }}
  </main>

  <footer class="site-footer">
    <div class="footer-content">
      <h3 class="footer-heading">{{ site.title }}</h3>
      
      <div class="contact-info">
        <p>{{ site.description }}</p>
        <p>Contact: <a href="mailto:{{ site.email }}">{{ site.email }}</a></p>
      </div>
      
      <div class="social-links">
        <a href="{{ site.social_links.github }}" target="_blank" rel="noopener" title="GitHub">GitHub</a>
        <a href="{{ site.social_links.linkedin }}" target="_blank" rel="noopener" title="LinkedIn">LinkedIn</a>
      </div>
      
      <div class="footer-bottom">
        <div class="visitor-counter">
          <p>Visitor #<span id="visitor-count">Loading...</span></p>
        </div>
        <div class="copyright">
          <p>&copy; {{ 'now' | date: "%Y" }} {{ site.title }}. All rights reserved.</p>
        </div>
      </div>
    </div>
    
    <!-- Improved visitor counter script -->
    <script>
      // Better visitor counter that only counts unique visits per browser
      function updateVisitorCount() {
        const hasVisited = localStorage.getItem('hasVisitedBefore');
        let count = localStorage.getItem('globalVisitorCount') || localStorage.getItem('visitorCount');
        
        if (!count) {
          // Initialize with a realistic starting number
          count = Math.floor(Math.random() * 2000) + 500; // Start between 500-2500
        } else {
          count = parseInt(count);
        }
        
        // Only increment if this is a new visitor (hasn't visited before)
        if (!hasVisited) {
          count = count + 1;
          localStorage.setItem('hasVisitedBefore', 'true');
          localStorage.setItem('globalVisitorCount', count);
        }
        
        document.getElementById('visitor-count').textContent = count.toLocaleString();
      }
      
      // Update counter when page loads
      document.addEventListener('DOMContentLoaded', updateVisitorCount);
    </script>
  </footer>
</body>
</html>